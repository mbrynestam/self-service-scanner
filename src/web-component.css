/*
 * Web Component Styles (Shadow DOM)
 *
 * This file provides complete style isolation for the <buyr-scanner> web component.
 * It includes all necessary Tailwind utilities with exact values matching the main app.
 */

@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Flow+Circular&display=swap');

/*
  :host provides isolation and theme tokens for the shadow tree
*/
:host {
  all: initial;
  display: block;
  box-sizing: border-box;

  /* Theme tokens (same as src/index.css) */
  --background: 0 0% 5%;
  --foreground: 0 0% 100%;

  --card: 0 0% 10%;
  --card-foreground: 0 0% 100%;

  --popover: 0 0% 10%;
  --popover-foreground: 0 0% 100%;

  --primary: 145 89% 71%;
  --primary-foreground: 0 0% 5%;

  --secondary: 0 0% 15%;
  --secondary-foreground: 0 0% 100%;

  --muted: 0 0% 15%;
  --muted-foreground: 0 0% 65%;

  --accent: 145 89% 71%;
  --accent-foreground: 0 0% 5%;

  --destructive: 0 84% 60%;
  --destructive-foreground: 0 0% 100%;

  --border: 0 0% 18%;
  --input: 0 0% 18%;
  --ring: 145 89% 71%;

  --radius: 0.75rem;

  /* Custom tokens */
  --gradient-primary: linear-gradient(135deg, hsl(145 89% 71%) 0%, hsl(145 70% 55%) 100%);
  --gradient-dark: linear-gradient(180deg, hsl(0 0% 5%) 0%, hsl(0 0% 8%) 100%);
  --gradient-card: linear-gradient(145deg, hsl(0 0% 12%) 0%, hsl(0 0% 8%) 100%);

  --shadow-card: 0 4px 20px hsl(0 0% 0% / 0.3);
  --shadow-button: 0 2px 8px hsl(0 0% 0% / 0.3);

  --sidebar-background: 0 0% 10%;
  --sidebar-foreground: 0 0% 100%;
  --sidebar-primary: 145 89% 71%;
  --sidebar-primary-foreground: 0 0% 5%;
  --sidebar-accent: 0 0% 15%;
  --sidebar-accent-foreground: 0 0% 100%;
  --sidebar-border: 0 0% 18%;
  --sidebar-ring: 145 89% 71%;

  /* Typography baseline */
  font-family: 'Flow Circular', sans-serif;
  font-size: 18px;
  line-height: 1.7;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-text-size-adjust: 100%;
  color: hsl(var(--foreground));
}

/* Consistent box model */
:host *,
:host *::before,
:host *::after {
  box-sizing: border-box;
}

/* Root container */
#buyr-scanner-root {
  background: transparent;
  font-family: 'Flow Circular', sans-serif;
}

/*
 * CRITICAL: Override Tailwind font sizes to match tailwind.config.ts exactly
 * These match the custom fontSize definitions in the config
 */

/* text-xs: 0.875rem / line-height 1.5 */
#buyr-scanner-root .text-xs {
  font-size: 0.875rem !important;
  line-height: 1.5 !important;
}

/* text-sm: 1rem / line-height 1.6 */
#buyr-scanner-root .text-sm {
  font-size: 1rem !important;
  line-height: 1.6 !important;
}

/* text-base: 1.125rem / line-height 1.7 */
#buyr-scanner-root .text-base {
  font-size: 1.125rem !important;
  line-height: 1.7 !important;
}

/* text-lg: 1.25rem / line-height 1.7 */
#buyr-scanner-root .text-lg {
  font-size: 1.25rem !important;
  line-height: 1.7 !important;
}

/* text-xl: 1.375rem / line-height 1.6 */
#buyr-scanner-root .text-xl {
  font-size: 1.375rem !important;
  line-height: 1.6 !important;
}

/* text-2xl: 1.625rem / line-height 1.4 */
#buyr-scanner-root .text-2xl {
  font-size: 1.625rem !important;
  line-height: 1.4 !important;
}

/* text-3xl: 2rem / line-height 1.3 */
#buyr-scanner-root .text-3xl {
  font-size: 2rem !important;
  line-height: 1.3 !important;
}

/* text-4xl: 2.5rem / line-height 1.2 */
#buyr-scanner-root .text-4xl {
  font-size: 2.5rem !important;
  line-height: 1.2 !important;
}

/*
 * Input styling - exact match for h-14 pl-12 text-lg
 */
#buyr-scanner-root input[type="text"],
#buyr-scanner-root input[type="email"],
#buyr-scanner-root input[type="url"] {
  height: 3.5rem !important; /* h-14 */
  font-size: 1.25rem !important; /* text-lg */
  line-height: 1.7 !important;
  padding-left: 3rem !important; /* pl-12 */
  padding-right: 1rem !important;
  padding-top: 0.5rem !important;
  padding-bottom: 0.5rem !important;
  background-color: hsl(var(--card)) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: var(--radius) !important;
  color: hsl(var(--foreground)) !important;
  font-family: 'Flow Circular', sans-serif !important;
}

#buyr-scanner-root input::placeholder {
  color: hsl(var(--muted-foreground)) !important;
}

#buyr-scanner-root input:focus {
  outline: none !important;
  border-color: hsl(var(--primary)) !important;
  box-shadow: 0 0 0 2px hsl(var(--ring) / 0.2) !important;
}

/*
 * Input icon positioning - center vertically in h-14 input
 */
#buyr-scanner-root .relative > svg:first-child {
  position: absolute !important;
  left: 1rem !important; /* left-4 */
  top: 50% !important;
  transform: translateY(-50%) !important;
  width: 1.25rem !important; /* w-5 */
  height: 1.25rem !important; /* h-5 */
  color: hsl(var(--muted-foreground)) !important;
}

/*
 * Button styling - hero variant, size xl
 * h-14 px-10 text-lg rounded-xl font-bold
 */
#buyr-scanner-root button[type="submit"],
#buyr-scanner-root .w-full.h-14 {
  height: 3.5rem !important; /* h-14 */
  padding-left: 2.5rem !important; /* px-10 */
  padding-right: 2.5rem !important;
  font-size: 1.25rem !important; /* text-lg */
  line-height: 1.7 !important;
  font-weight: 700 !important; /* font-bold */
  border-radius: 0.75rem !important; /* rounded-xl */
  background-color: hsl(var(--primary)) !important;
  color: hsl(var(--primary-foreground)) !important;
  font-family: 'Flow Circular', sans-serif !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 0.5rem !important;
  border: none !important;
  cursor: pointer !important;
  transition: all 0.3s ease !important;
}

#buyr-scanner-root button[type="submit"]:hover {
  background-color: hsl(145 89% 65%) !important;
}

#buyr-scanner-root button[type="submit"] svg {
  width: 1.25rem !important; /* w-5 */
  height: 1.25rem !important; /* h-5 */
  margin-right: 0.5rem !important; /* mr-2 */
}

/*
 * Typography elements
 */
#buyr-scanner-root h2 {
  font-family: 'Flow Circular', sans-serif !important;
  font-weight: 700 !important;
  color: hsl(var(--foreground)) !important;
  margin: 0 !important;
}

/* md:text-2xl for headings on medium screens and up */
@media (min-width: 768px) {
  #buyr-scanner-root h2.text-xl.md\\:text-2xl,
  #buyr-scanner-root .text-xl.md\\:text-2xl {
    font-size: 1.625rem !important;
    line-height: 1.4 !important;
  }
}

#buyr-scanner-root p {
  font-family: 'Flow Circular', sans-serif !important;
  color: hsl(var(--foreground)) !important;
  margin: 0 !important;
}

/*
 * Spacing utilities
 */
#buyr-scanner-root .mb-2 {
  margin-bottom: 0.5rem !important;
}

#buyr-scanner-root .mb-4 {
  margin-bottom: 1rem !important;
}

#buyr-scanner-root .mb-6 {
  margin-bottom: 1.5rem !important;
}

#buyr-scanner-root .mt-4 {
  margin-bottom: 1rem !important;
}

#buyr-scanner-root .mr-2 {
  margin-right: 0.5rem !important;
}

#buyr-scanner-root .space-y-4 > * + * {
  margin-top: 1rem !important;
}

#buyr-scanner-root .gap-2 {
  gap: 0.5rem !important;
}

/*
 * Layout utilities
 */
#buyr-scanner-root .flex {
  display: flex !important;
}

#buyr-scanner-root .flex-col {
  flex-direction: column !important;
}

#buyr-scanner-root .items-center {
  align-items: center !important;
}

#buyr-scanner-root .justify-center {
  justify-content: center !important;
}

#buyr-scanner-root .text-center {
  text-align: center !important;
}

#buyr-scanner-root .w-full {
  width: 100% !important;
}

#buyr-scanner-root .max-w-md {
  max-width: 28rem !important;
}

#buyr-scanner-root .max-w-2xl {
  max-width: 42rem !important;
}

#buyr-scanner-root .mx-auto {
  margin-left: auto !important;
  margin-right: auto !important;
}

#buyr-scanner-root .px-4 {
  padding-left: 1rem !important;
  padding-right: 1rem !important;
}

#buyr-scanner-root .relative {
  position: relative !important;
}

#buyr-scanner-root .absolute {
  position: absolute !important;
}

/*
 * Icon box styling - w-14 h-14 rounded-xl
 */
#buyr-scanner-root .w-14 {
  width: 3.5rem !important;
}

#buyr-scanner-root .h-14 {
  height: 3.5rem !important;
}

#buyr-scanner-root .w-7 {
  width: 1.75rem !important;
}

#buyr-scanner-root .h-7 {
  height: 1.75rem !important;
}

#buyr-scanner-root .w-5 {
  width: 1.25rem !important;
}

#buyr-scanner-root .h-5 {
  height: 1.25rem !important;
}

#buyr-scanner-root .w-4 {
  width: 1rem !important;
}

#buyr-scanner-root .h-4 {
  height: 1rem !important;
}

#buyr-scanner-root .rounded-xl {
  border-radius: 0.75rem !important;
}

#buyr-scanner-root .rounded-lg {
  border-radius: 0.5rem !important;
}

#buyr-scanner-root .rounded-md {
  border-radius: 0.375rem !important;
}

#buyr-scanner-root .rounded-full {
  border-radius: 9999px !important;
}

/*
 * Color utilities
 */
#buyr-scanner-root .bg-primary\/10 {
  background-color: hsl(145 89% 71% / 0.1) !important;
}

#buyr-scanner-root .bg-primary {
  background-color: hsl(var(--primary)) !important;
}

#buyr-scanner-root .bg-card {
  background-color: hsl(var(--card)) !important;
}

#buyr-scanner-root .bg-muted {
  background-color: hsl(var(--muted)) !important;
}

#buyr-scanner-root .text-primary {
  color: hsl(var(--primary)) !important;
}

#buyr-scanner-root .text-primary-foreground {
  color: hsl(var(--primary-foreground)) !important;
}

#buyr-scanner-root .text-foreground {
  color: hsl(var(--foreground)) !important;
}

#buyr-scanner-root .text-muted-foreground {
  color: hsl(var(--muted-foreground)) !important;
}

#buyr-scanner-root .text-destructive {
  color: hsl(var(--destructive)) !important;
}

#buyr-scanner-root .border-border {
  border-color: hsl(var(--border)) !important;
}

#buyr-scanner-root .border-primary {
  border-color: hsl(var(--primary)) !important;
}

/*
 * Font weight utilities
 */
#buyr-scanner-root .font-bold {
  font-weight: 700 !important;
}

#buyr-scanner-root .font-semibold {
  font-weight: 600 !important;
}

#buyr-scanner-root .font-medium {
  font-weight: 500 !important;
}

/*
 * Progress indicator styling
 */
#buyr-scanner-root .h-1\.5 {
  height: 0.375rem !important;
}

#buyr-scanner-root .w-8 {
  width: 2rem !important;
}

#buyr-scanner-root .w-4 {
  width: 1rem !important;
}

#buyr-scanner-root .bg-primary\/50 {
  background-color: hsl(145 89% 71% / 0.5) !important;
}

/*
 * Component helpers
 */
@layer components {
  .gradient-text {
    @apply bg-clip-text text-transparent;
    background-image: var(--gradient-primary);
  }

  .gradient-border {
    position: relative;
    background: hsl(var(--card));
  }

  .gradient-border::before {
    content: '';
    position: absolute;
    inset: 0;
    padding: 1px;
    border-radius: inherit;
    background: var(--gradient-primary);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
  }

  .card-gradient {
    background: var(--gradient-card);
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}
